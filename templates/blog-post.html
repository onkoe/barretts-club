{% extends "index.html" %} {% block content %}

<link
rel="stylesheet"
href="{{ get_url(path="blog-post.css",
    trailing_slash=false)
}}"
/>

<div class="post">
    <h1 class="post-title">{{ page.title }}</h1>

    <div class="date-and-tags">
        {# filter folks who hate freedom ğŸ¦… #}
        {% if config.extra.date.use_ansi_time == True %}
            <span class="post-date">{{ page.date | date(format="%B %e, %Y") }}</span>
        {% else %}
            <span class="post-date">{{ page.date | date(format="%e %B %Y") }}</span>
        {% endif %}

        <p>â€¢</p>

        <div class="post-tags-container">
            {% if page.taxonomies.tags %} 
                {% for tag in page.taxonomies.tags %}
                    <p class="post-tag">{{ tag | safe }}</p>
                {% endfor %} 
            {% else %}
                <p class="post-tag">No tags.</p>
            {% endif %}
        </div>
    </div> 


    <div class="toc">
        <input type="checkbox" class="toc-button" id="toc-cb"></input>
        <label for="toc-cb">Show Table of Contents</label>

        <div class="toc-list"> 
            <ul>
                {% for header in page.toc %}
                    <li> 
                        <a href="{{header.permalink | safe }}"> {{ header.title | safe }} </a>
                    </li>
                    {% if header.children %}
                        <ul>
                            {% for subheader in header.children %}
                            <li> 
                                <a href="{{subheader.permalink | safe}}"> {{subheader.title | safe}} </a>
                            </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    </div>


    {{ page.content | safe }}
</div>
{% endblock content %}


{% macro get_header_children(header, type="Header") %}
    {% if header.children %}
        <ul>
            {% for h in header.children %}
                <li> 
                    <a href="{{h.permalink}}"> {{h.title}} </a>
                </li>
                {{ self::get_header_children(header=h) }}
            {% endfor %}
        </ul>
    {% endif %}
{% endmacro get_headers %}